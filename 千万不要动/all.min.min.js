/*!
 * Brav1Toolbox.js - common utility scripts and polyfills
 * http://marcolago.com/
 * MIT licensed
 *
 * Copyright (C) 2012-2013 Marco Lago, http://marcolago.com
 */
;var Brav1Toolbox=(function(){var s=["","-webkit-","-moz-","-ms-","-o-"];var n;if(window.getComputedStyle){n=window.getComputedStyle(document.body)}else{n=document.documentElement.style}function l(a,c,d,b){if(a.addEventListener){a.addEventListener(c,d,b)}else{if(a.attachEvent){a.attachEvent(c,d)}}}function p(a){return m(a)!=""}function m(c){for(var b=0;b<s.length;b++){var d=s[b].replace(/-/g,"");var a=c;if(d.length>0){a=a.charAt(0).toUpperCase()+a.substr(1)}a=d+a;if(a in n==true){return a}}return""}function r(a){return !!a&&Object.prototype.toString.call(a).match(/(\w+)\]/)[1]}function o(a,c){if(a.classList){a.classList.add(c)}else{if(q(a,c)==false){var b=a.className;if(b.length>0){b+=" "}a.className=b+c}}}function v(a,c){if(a.classList){a.classList.remove(c)}else{var b=a.className;if(b.indexOf(c)!=-1){if(b.indexOf(" "+c)!=-1){b=b.replace(" "+c,"")}else{if(b.indexOf(c+" ")!=-1){b=b.replace(c+" ","")}else{b=b.replace(c,"")}}}a.className=b}}function q(b,a){if(b){if(b.classList){return b.classList.contains(a)}else{if(b.className){return b.className.indexOf(a)!=-1}}}return false}function t(b,c){if(document.createEvent){var d=document.createEvent("HTMLEvents");d.initEvent(b,true,true);for(var a in c){d[a]=c[a]}document.dispatchEvent(d)}}function u(a,b){var c;var d;c=b.x-a.x;c*=c;d=b.y-a.y;d*=d;return Math.abs(Math.sqrt(c+d))}return{addListener:l,dispatchEvent:t,testCSS:p,getPrefixed:m,typeOf:r,addClass:o,removeClass:v,hasClass:q,distance:u}})();
/*!
 * Flowtime.js
 * http://marcolago.com/flowtime-js/
 * MIT licensed
 *
 * Copyright (C) 2012-2013 Marco Lago, http://marcolago.com
 */
;var Flowtime=(function(){var bl="ontouchstart" in document.documentElement;var cB=window.history.pushState;var bn="ft-section";var cq="."+bn;var cy="ft-page";var cA="."+cy;var cE="ft-fragment";var b2="."+cE;var cd="revealed";var cC="actual";var bS="revealed-temp";var ca="ft-default-progress";var bI="."+ca;var cj="ft-section-thumb";var bR="."+cj;var bm="ft-page-thumb";var bD="."+bm;var be="flowtimenavigation";var bM=document.querySelector(".flowtime");var cz=document.querySelector("html");var bc=document.querySelector("body");var cK=false;var ci="";var bX={section:0,page:0};var bQ=false;var cF=document.title;var bH;var cx=22;var bO=null;var a9=false;var bh=true;var b0=false;var bJ=false;var bW=false;var cn=false;var cG=false;var b6=false;var bp=50;var bq=50;var bC=document.querySelector(".parallax")!=null;var bN=true;try{var bk=document.querySelector("html").className.toLowerCase();if(bk.indexOf("ie7")!=-1||bk.indexOf("ie8")!=-1||bk.indexOf("lt-ie9")!=-1){bN=false}}catch(ck){bN=false}if(bN){Brav1Toolbox.addClass(bc,"ft-absolute-nav")}var a0=(function(){var n;var Q;var G;var r;var K;var y=[];var J=[];var z=0;var a=0;var q=0;var h=0;var M=0;var g=0;var T=0;var v;function ad(){Q=[];J=[];r=document.querySelectorAll(b2);K=[];n=bM.querySelectorAll(".flowtime > "+cq);G=bM.querySelectorAll(".flowtime "+cA);for(var ag=0;ag<n.length;ag++){var ai=[];var aj=n[ag];K[ag]=[];y[ag]=[];if(aj.getAttribute("data-id")){aj.setAttribute("data-id","__"+bU(aj.getAttribute("data-id")))}aj.setAttribute("data-prog","__"+(ag+1));aj.index=ag;aj.setAttribute("id","");pages=aj.querySelectorAll(cA);q+=pages.length;a=Math.max(a,pages.length);for(var af=0;af<pages.length;af++){var ah=pages[af];if(ah.getAttribute("data-id")){ah.setAttribute("data-id","__"+bU(ah.getAttribute("data-id")))}ah.setAttribute("data-prog","__"+(af+1));ah.index=af;ah.setAttribute("id","");if(!ah.getAttribute("data-title")){var ak=ah.querySelector("h1");if(ak!=null&&ak.textContent.lenght!=""){ah.setAttribute("data-title",ak.textContent)}}L(ah,ag,af);ai.push(ah);var ae=ah.querySelectorAll(b2);K[ag][af]=ae;y[ag][af]=-1}Q.push(ai)}z=n.length;ch();S()}function L(ag,af,aj){if(bC){if(J[af]==undefined){J[af]=[]}if(J[af][aj]==undefined){J[af][aj]=[]}var ah=ag.querySelectorAll(".parallax");if(ah.length>0){for(var ai=0;ai<ah.length;ai++){var am=ah[ai];var ak=bp;var al=bq;if(am.getAttribute("data-parallax")!=null){var ae=am.getAttribute("data-parallax").split(",");ak=al=ae[0];if(ae.length>1){al=ae[1]}}am.pX=ak;am.pY=al;J[af][aj].push(am)}}}}function U(){return J}function S(){for(var ae=0;ae<G.length;ae++){var af=G[ae];af.x=af.offsetLeft+af.parentNode.offsetLeft;af.y=af.offsetTop+af.parentNode.offsetTop}}function Z(af,ag,ae){var ah=M;var ai=af==!bJ;if(ag==true&&K[h][M].length>0&&y[h][M]<K[h][M].length-1&&ai!=true&&ae==false){P(h,M)}else{ah=0;if(ai==true&&h+1<Q.length-1){ah=0}else{if(ai!=true||bh==true||h+1>Q.length-1){ah=M}}h=Math.min(h+1,Q.length-1);return s(Q[h],ah,ae)}return m(Q[h][M],ae)}function o(af,ag,ae){var ah=M;var ai=af==!bJ;if(ag==true&&K[h][M].length>0&&y[h][M]>=0&&ai!=true&&ae==false){f(h,M)}else{var ah=0;ah=0;if(ai==true&&h-1>=0){ah=0}else{if(ai!=true||bh==true||h-1<0){ah=M}}h=Math.max(h-1,0);return s(Q[h],ah,ae)}return m(Q[h][M],ae)}function s(ae,ah,af){var ag=ae[ah];if(ag==undefined){for(var ai=ah;ai>=0;ai--){if(ae[ai]!=undefined){ag=ae[ai];ah=ai;break}}}M=ah;if(!bQ){x()}return m(ag,af)}function D(af,ae){if(K[h][M].length>0&&y[h][M]<K[h][M].length-1&&af!=true&&ae==false){P(h,M)}else{if(Q[h][M+1]==undefined&&Q[h+1]!=undefined){h+=1;M=0}else{M=Math.min(M+1,Q[h].length-1)}}return m(Q[h][M],ae)}function d(af,ae){if(K[h][M].length>0&&y[h][M]>=0&&af!=true&&ae==false){f(h,M)}else{if(M==0&&Q[h-1]!=undefined){h-=1;M=Q[h].length-1}else{M=Math.max(M-1,0)}}return m(Q[h][M],ae)}function m(af,ae){if(ae==true){ac(af);return}else{return af}}function P(ah,af,ae){if(ae!=undefined){y[ah][af]=ae}else{ae=y[ah][af]+=1}for(var ag=0;ag<=ae;ag++){Brav1Toolbox.addClass(K[ah][af][ag],cd);Brav1Toolbox.removeClass(K[ah][af][ag],cC)}Brav1Toolbox.addClass(K[ah][af][ae],cC)}function f(ah,af,ae){if(ae!=undefined){y[ah][af]=ae}else{ae=y[ah][af]}for(var ag=0;ag<K[ah][af].length;ag++){if(ag>=ae){Brav1Toolbox.removeClass(K[ah][af][ag],cd);Brav1Toolbox.removeClass(K[ah][af][ag],bS)}Brav1Toolbox.removeClass(K[ah][af][ag],cC)}ae-=1;if(ae>=0){Brav1Toolbox.addClass(K[ah][af][ae],cC)}y[ah][af]=ae}function X(){for(var ae=0;ae<r.length;ae++){Brav1Toolbox.addClass(r[ae],bS)}}function H(){for(var ae=0;ae<r.length;ae++){Brav1Toolbox.removeClass(r[ae],bS)}}function x(){for(var ae=0;ae<K.length;ae++){var ah=K[ae];for(var ag=0;ag<ah.length;ag++){var ai=ah[ag];if(ai.length>0){if(ae>h){for(var af=ai.length-1;af>=0;af--){f(ae,ag,af)}}else{if(ae<h){for(var af=0;af<ai.length;af++){P(ae,ag,af)}}else{if(ae==h){if(ag>M){for(var af=ai.length-1;af>=0;af--){f(ae,ag,af)}}else{if(ag<M){for(var af=0;af<ai.length;af++){P(ae,ag,af)}}else{if(ag==M){if(bh==true&&(bX.section>a0.getPageIndex().section||bX.page>a0.getPageIndex().page)){for(var af=0;af<ai.length;af++){P(ae,ag,af)}}else{for(var af=ai.length-1;af>=0;af--){f(ae,ag,af)}}if(bh==false){y[ae][ag]=-1}else{if(bX.section>a0.getPageIndex().section||bX.page>a0.getPageIndex().page){y[ae][ag]=ai.length-1}else{y[ae][ag]=-1}}}}}}}}}}}}function N(ae){if(ae){}return h}function E(ae){if(ae){}return M}function j(){return n}function F(ae){return Q[ae]}function B(){return G}function b(){return z}function w(){return a}function A(){return q}function p(ae){var af=h;var ag=M;if(ae!=undefined){af=ae.parentNode.index;ag=ae.index}return{section:af,page:ag}}function i(ae){return n[ae]}function I(af,ae){return Q[ae][af]}function V(){return n[h]}function l(){return Q[h][M]}function t(){return K[h][M][W()]}function W(){return y[h][M]}function C(){return h<n.length-1}function Y(){return h>0}function R(){return M<Q[h].length-1}function aa(){return M>0}function u(){if(h==0&&M==0){return 0}var ae=0;for(var af=0;af<h;af++){ae+=Q[af].length}ae+=Q[h][M].index+1;return ae}function k(ae){if(ae!=undefined){M=p(ae).page;h=p(ae).section}var af="";var ah=n[h];af+=bs(ah);if(Q[h].length>1){var ag=Q[h][M];af+="/"+bs(ag)}return af}function ab(ae){var aj=cl(ae);if(aj){var ah=aj.parentNode;for(var ai=0;ai<Q.length;ai++){var af=Q[ai];if(n[ai]===ah){h=ai;for(var ag=0;ag<af.length;ag++){if(af[ag]===aj){M=ag;break}}}}x()}return aj}function ac(aj,ai){var ae=aj.parentNode.index;for(var ah=0;ah<Q.length;ah++){var af=Q[ah];for(var ag=0;ag<af.length;ag++){var ak=af[ag];Brav1Toolbox.removeClass(ak,"past-section");Brav1Toolbox.removeClass(ak,"future-section");Brav1Toolbox.removeClass(ak,"past-page");Brav1Toolbox.removeClass(ak,"future-page");if(ak!==aj){Brav1Toolbox.removeClass(ak,"hilite");if(bQ==false&&ak!==l()){Brav1Toolbox.removeClass(ak,"actual")}if(ah<ae){Brav1Toolbox.addClass(ak,"past-section")}else{if(ah>ae){Brav1Toolbox.addClass(ak,"future-section")}}if(ak.index<aj.index){Brav1Toolbox.addClass(ak,"past-page")}else{if(ak.index>aj.index){Brav1Toolbox.addClass(ak,"future-page")}}}}}Brav1Toolbox.addClass(aj,"hilite");if(ai){c(aj)}v=aj}function O(){return v}function c(ae){Brav1Toolbox.addClass(ae,"actual")}ad();return{update:ad,updateFragments:x,showFragments:X,hideFragments:H,getSection:N,getPage:E,getSections:j,getPages:F,getAllPages:B,getNextSection:Z,getPrevSection:o,getNextPage:D,getPrevPage:d,getSectionsLength:b,getPagesLength:w,getPagesTotalLength:A,getPageIndex:p,getSectionByIndex:i,getPageByIndex:I,getCurrentSection:V,getCurrentPage:l,getCurrentFragment:t,getCurrentFragmentIndex:W,getProgress:u,getHash:k,setPage:ab,switchActivePage:ac,getCurrentHilited:O,hasNextSection:C,hasPrevSection:Y,hasNextPage:R,hasPrevPage:aa,updateOffsets:S,getParallaxElements:U}})();if(bN){if(bl){Brav1Toolbox.addListener(document,"touchend",cL,false)}else{Brav1Toolbox.addListener(document,"click",cL,false)}}function cL(c){var a=c.target.getAttribute("href");if(a&&a.substr(0,1)=="#"){c.target.blur();c.preventDefault();var d=a;var g=a0.setPage(d);bA(g,true,true)}if(bQ){var g=c.target;while(g&&!Brav1Toolbox.hasClass(g,cy)){g=g.parentNode}if(Brav1Toolbox.hasClass(g,cy)){c.preventDefault();bA(g,null,true)}}if(Brav1Toolbox.hasClass(c.target,bm)){c.preventDefault();var f=Number(bU(c.target.getAttribute("data-section")));var b=Number(bU(c.target.getAttribute("data-page")));cJ(f,b)}}if(cK==false&&window.history.pushState){window.onpopstate=b1}else{cK=true}function b1(c){cK=false;var a;if(c.state){a=c.state.token.replace("#/","")}else{a=document.location.hash.replace("#/","")}var b=a0.setPage(a);bA(b,false)}Brav1Toolbox.addListener(window,"hashchange",bK);function bK(d,c){if(cK||c){var a=document.location.hash.replace("#/","");var b=a0.setPage(a);bA(b,false)}}var cM=bM.offsetX;var cO=0;var bw=0;var bz=0;var bY=0;var b3=0;var b4=0;var cs="x";var a8=100;cz.addEventListener("touchstart",cv,false);cz.addEventListener("touchmove",cm,false);cz.addEventListener("touchend",bx,false);function cv(b){bY=0;b3=0;b.preventDefault();b=b7(b);bw=b.clientX;bz=b.clientY;b4=1;var a=bb();cM=a.x;cO=a.y}function cm(a){a.preventDefault();a=b7(a);bY=a.clientX-bw;b3=a.clientY-bz}function bx(a){a=b7(a);b4=0;cs=Math.abs(bY)>=Math.abs(b3)?"x":"y";if(cs=="x"&&Math.abs(bY)>=a8){if(bY>0){bu();return}else{if(bY<0){bL();return}}}else{if(b3>0&&Math.abs(b3)>=a8){cD();return}else{if(b3<0){cg();return}}}}function b7(a){if(a.touches){a=a.touches[0]}return a}function bb(){var d=bM.style[Brav1Toolbox.getPrefixed("transform")];var f=d.indexOf("translateX(")+11;var b=d.substring(f,d.indexOf(")",f));if(b.indexOf("%")!=-1){b=b.replace("%","");b=(parseInt(b)/100)*window.innerWidth}else{if(b.indexOf("px")!=-1){b=parseInt(b.replace("px",""))}}var a=d.indexOf("translateY(")+11;var c=d.substring(a,d.indexOf(")",a));if(c.indexOf("%")!=-1){c=c.replace("%","");c=(parseInt(c)/100)*window.innerHeight}else{if(c.indexOf("px")!=-1){c=parseInt(c.replace("px",""))}}return{x:b,y:c}}var bG=true;Brav1Toolbox.addListener(window,"scroll",br);function br(a){a.preventDefault();ch()}var ct=(function bj(){var d=NaN;function a(){c();if(!bQ){d=setTimeout(b,300)}}function c(){clearTimeout(d)}function b(){a0.updateOffsets();bA()}Brav1Toolbox.addListener(window,"resize",a);window.addEventListener("orientationchange",a,false);return{enable:a,disable:c}})();function cl(b){if(b.length>0){var c=b.replace("#/","").split("/");var d=document.querySelector(cq+"[data-id=__"+c[0]+"]")||document.querySelector(cq+"[data-prog=__"+c[0]+"]");if(d!=null){var a=null;if(c.length>1){a=d.querySelector(cA+"[data-id=__"+c[1]+"]")||d.querySelector(cA+"[data-prog=__"+c[1]+"]")}if(a==null){a=d.querySelector(cA)}return a}}return}function cu(){a0.update();bK(null,true)}function cR(d){var f=cF;var c=a0.getCurrentPage().getAttribute("data-title");if(c==null){var a=d.split("/");for(var b=0;b<a.length;b++){f+=" | "+a[b]}}else{if(a0.getCurrentSection().getAttribute("data-title")!=null){f+=" | "+a0.getCurrentSection().getAttribute("data-title")}f+=" | "+c}document.title=f}function bs(a){return(a.getAttribute("data-id")!=null?a.getAttribute("data-id").replace(/__/,""):a.getAttribute("data-prog").replace(/__/,""))}function cp(a){if(a.substr(0,2)!="__"){return"__"+a}else{return a}}function bU(a){if(a.substr(0,2)=="__"){return a.replace(/__/,"")}else{return a}}function bA(g,h,c){h=h==false?h:true;if(!g){if(a0.getCurrentPage()!=null){g=a0.getCurrentPage()}else{g=document.querySelector(cA)}h=true}cP(g);bd(g);if(bQ){cf(false,false)}var f=a0.getHash(g);if(c==true){a0.updateFragments()}var d=a0.getPageIndex(g);if(bX.section!=d.section||bX.page!=d.page){if(cB!=null&&h!=false&&a0.getCurrentFragmentIndex()==-1){var a={token:f};var b="#/"+f;ci=b;window.history.pushState(a,null,ci)}else{document.location.hash="/"+f}}cR(f);cw();bX=d;a0.switchActivePage(g,true);if(cG){cN()}}function cw(){var a=a0.getPageIndex();Brav1Toolbox.dispatchEvent(be,{section:a0.getCurrentSection(),page:a0.getCurrentPage(),sectionIndex:a.section,pageIndex:a.page,pastSectionIndex:bX.section,pastPageIndex:bX.page,prevSection:a0.hasPrevSection(),nextSection:a0.hasNextSection(),prevPage:a0.hasPrevPage(),nextPage:a0.hasNextPage(),fragment:a0.getCurrentFragment(),fragmentIndex:a0.getCurrentFragmentIndex(),isOverview:bQ,progress:a0.getProgress(),total:a0.getPagesTotalLength()})}function cP(a){var b;var d;var c=a0.getPageIndex(a);if(b0==true){b=a.x;d=a.y}else{b=c.section;d=c.page}if(Brav1Toolbox.testCSS("transform")){if(b0){bM.style[Brav1Toolbox.getPrefixed("transform")]="translateX("+-b+"px) translateY("+-d+"px)"}else{bM.style[Brav1Toolbox.getPrefixed("transform")]="translateX("+-b*100+"%) translateY("+-d*100+"%)"}}else{if(b0){bM.style.top=-d+"px";bM.style.left=-b+"px"}else{bM.style.top=-d*100+"%";bM.style.left=-b*100+"%"}}ch()}function bd(d){if(bC){var k=a0.getPageIndex(d);var f=a0.getParallaxElements();for(var i=0;i<f.length;i++){var j=f[i];if(j!=undefined){for(var b=0;b<j.length;b++){var c=j[b];if(c!=undefined){for(var h=0;h<c.length;h++){var a=c[h];var l=0;var g=0;if(k.section<i){l=a.pX}else{if(k.section>i){l=-a.pX}}if(k.page<b){g=a.pY}else{if(k.page>b){g=-a.pY}}if(b6){a.style[Brav1Toolbox.getPrefixed("transform")]="translateX("+l+"px) translateY("+g+"px)"}else{a.style[Brav1Toolbox.getPrefixed("transform")]="translateX("+l+"%) translateY("+g+"%)"}}}}}}}}function ch(){window.scrollTo(0,0)}var bO=null;var bT=null;function co(){var b=document.createDocumentFragment();bO=document.createElement("div");bO.className=ca;b.appendChild(bO);for(var g=0;g<a0.getSectionsLength();g++){var d=document.createElement("div");d.setAttribute("data-section","__"+g);d.className=cj;Brav1Toolbox.addClass(d,"thumb-section-"+g);var a=a0.getPages(g);for(var f=0;f<a.length;f++){var c=document.createElement("div");c.className=bm;c.setAttribute("data-section","__"+g);c.setAttribute("data-page","__"+f);Brav1Toolbox.addClass(c,"thumb-page-"+f);d.appendChild(c)}bO.appendChild(d)}bc.appendChild(bO)}function ba(){if(bO!=null){bc.removeChild(bO);bO=null}}function cN(){if(bO!=null){var f=bO.querySelectorAll(bD);for(var a=0;a<f.length;a++){var d=f[a];var b=Number(bU(d.getAttribute("data-section")));var c=Number(bU(d.getAttribute("data-page")));if(b==a0.getPageIndex().section&&c==a0.getPageIndex().page){Brav1Toolbox.addClass(f[a],"actual")}else{Brav1Toolbox.removeClass(f[a],"actual")}}}}function ce(){return bO}function cf(b,a){if(bQ){bi(b,a)}else{bH=a0.getCurrentPage();bB()}}function bi(b,a){bQ=false;Brav1Toolbox.removeClass(bc,"ft-overview");a0.hideFragments();a=a===false?false:true;if(a==true){if(b==true){bA(bH)}else{bA()}}}function bB(){bQ=true;Brav1Toolbox.addClass(bc,"ft-overview");a0.showFragments();if(bW==false){bE(true)}else{bF(true)}cw()}function bE(g){if(g){var a=100/a0.getSectionsLength();var b=100/a0.getPagesLength();var f=Math.min(a,b)*0.9;var d=(100-a0.getSectionsLength()*f)/2;var c=(100-a0.getPagesLength()*f)/2;bM.style[Brav1Toolbox.getPrefixed("transform")]="translate("+d+"%, "+c+"%) scale("+f/100+", "+f/100+")"}}function bF(b){if(b){var f=cx;var a=a0.getPageIndex();var c=50-(f*a.section)-(f/2);var d=50-(f*a.page)-(f/2);bM.style[Brav1Toolbox.getPrefixed("transform")]="translate("+c+"%, "+d+"%) scale("+f/100+", "+f/100+")"}}Brav1Toolbox.addListener(window,"keydown",bV);Brav1Toolbox.addListener(window,"keyup",bP);function bV(a){var b=a.target.tagName;if(b!="INPUT"&&b!="TEXTAREA"&&b!="SELECT"){if(a.keyCode>=37&&a.keyCode<=40){a.preventDefault()}}}function bP(c){var b=c.target.tagName;var a;if(b!="INPUT"&&b!="TEXTAREA"&&b!="SELECT"){c.preventDefault();switch(c.keyCode){case 27:cf(true);break;case 33:bt();break;case 34:cb();break;case 35:cH();break;case 36:bo();break;case 37:bu(c.shiftKey);break;case 39:bL(c.shiftKey);break;case 38:cD(c.shiftKey);break;case 40:cg(c.shiftKey);break;case 13:if(bQ){cJ(a0.getCurrentHilited())}break;default:break}}}function bv(){if(cG&&bO==null){co()}if(document.location.hash.length>0){Brav1Toolbox.addClass(bM,"no-transition");bK(null,true);Brav1Toolbox.removeClass(bM,"no-transition")}else{if(bv.arguments.length>0){cJ.apply(this,bv.arguments)}else{cJ(0,0);cN()}}}function bL(b){var a=a0.getNextSection(b,a9,bQ);if(a!=undefined){bA(a)}else{if(bQ&&bW){bB()}}}function bu(b){var a=a0.getPrevSection(b,a9,bQ);if(a!=undefined){bA(a)}else{if(bQ&&bW){bB()}}}function cg(b){var a=a0.getNextPage(b,bQ);if(a!=undefined){bA(a)}else{if(bQ&&bW){bB()}}}function cD(b){var a=a0.getPrevPage(b,bQ);if(a!=undefined){bA(a)}else{if(bQ&&bW){bB()}}}function cJ(){var b=cJ.arguments;if(b.length>0){if(b.length==1){if(Brav1Toolbox.typeOf(b[0])==="Object"){var d=b[0];var f=d.section;var g=d.page;if(f!=null&&f!=undefined){var c=document.querySelector(cq+"[data-id="+cp(f)+"]");if(g!=null&&g!=undefined){var a=c.querySelector(cA+"[data-id="+cp(g)+"]");if(a!=null){bA(a);return}}}}else{if(b[0].nodeName!=undefined){bA(b[0],null,true)}}}if(Brav1Toolbox.typeOf(b[0])==="Number"||b[0]===0){var a=a0.getPageByIndex(b[1],b[0]);bA(a);return}}}function bo(){cJ(0,0)}function cH(){var a=a0.getSectionsLength()-1;cJ(a,a0.getPages(a).length-1)}function bt(){var a=a0.getPageIndex();cJ(a.section,0)}function cb(){var a=a0.getPageIndex();cJ(a.section,a0.getPages(a.section).length-1)}function b8(a,b,c){Brav1Toolbox.addListener(document,a,b,c)}function b5(a){a9=a;cc(a)}function cc(a){bh=a}function e(a){cB=a}function cQ(a){b0=a;bA()}function bf(a){bJ=a}function bg(a){bJ=!a}function by(a){bW=a}function b9(a){cn=a}function cr(a){cG=a;if(cG){if(bO==null){co()}cN()}else{if(bO!=null){ba()}}}function bZ(b,a){bp=b;bq=a==undefined?bp:a;a0.update()}function cI(a){b6=a}return{start:bv,updateNavigation:cu,nextSection:bL,prevSection:bu,next:cg,prev:cD,nextFragment:cg,prevFragment:cD,gotoPage:cJ,gotoHome:bo,gotoTop:bt,gotoBottom:cb,gotoEnd:cH,toggleOverview:cf,fragmentsOnSide:b5,fragmentsOnBack:cc,useHistory:e,slideInPx:cQ,sectionsSlideToTop:bf,gridNavigation:bg,useOverviewVariant:by,twoStepsSlide:b9,showProgress:cr,addEventListener:b8,defaultParallaxValues:bZ,parallaxInPx:cI,getDefaultProgress:ce}})();(function(b,e,c){var d=function(){for(var f=/audio(.min)?.js.*/,g=document.getElementsByTagName("script"),j=0,i=g.length;j<i;j++){var h=g[j].getAttribute("src");if(f.test(h)){return h.replace(f,"")}}}();c[b]={instanceCount:0,instances:{},flashSource:'      <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" id="$1" width="1" height="1" name="$1" style="position: absolute; left: -1px;">         <param name="movie" value="$2?playerInstance='+b+'.instances[\'$1\']&datetime=$3">         <param name="allowscriptaccess" value="always">         <embed name="$1" src="$2?playerInstance='+b+'.instances[\'$1\']&datetime=$3" width="1" height="1" allowscriptaccess="always">       </object>',settings:{autoplay:false,loop:false,preload:true,imageLocation:d+"player-graphics.gif",swfLocation:d+"audiojs.swf",useFlash:function(){var f=document.createElement("audio");return !(f.canPlayType&&f.canPlayType("audio/mpeg;").replace(/no/,""))}(),hasFlash:function(){if(navigator.plugins&&navigator.plugins.length&&navigator.plugins["Shockwave Flash"]){return true}else{if(navigator.mimeTypes&&navigator.mimeTypes.length){var f=navigator.mimeTypes["application/x-shockwave-flash"];return f&&f.enabledPlugin}else{try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash");return true}catch(g){}}}return false}(),createPlayer:{markup:'          <div class="play-pause">             <p class="play"></p>             <p class="pause"></p>             <p class="loading"></p>             <p class="error"></p>           </div>           <div class="scrubber">             <div class="progress"></div>             <div class="loaded"></div>           </div>           <div class="time">             <em class="played">00:00</em>/<strong class="duration">00:00</strong>           </div>           <div class="error-message"></div>',playPauseClass:"play-pause",scrubberClass:"scrubber",progressClass:"progress",loaderClass:"loaded",timeClass:"time",durationClass:"duration",playedClass:"played",errorMessageClass:"error-message",playingClass:"playing",loadingClass:"loading",errorClass:"error"},css:'        .audiojs audio { position: absolute; left: -1px; }         .audiojs { width: 460px; height: 36px; background: #404040; overflow: hidden; font-family: monospace; font-size: 12px;           background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #444), color-stop(0.5, #555), color-stop(0.51, #444), color-stop(1, #444));           background-image: -moz-linear-gradient(center top, #444 0%, #555 50%, #444 51%, #444 100%);           -webkit-box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.3); -moz-box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.3);           -o-box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.3); box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.3); }         .audiojs .play-pause { width: 25px; height: 40px; padding: 4px 6px; margin: 0px; float: left; overflow: hidden; border-right: 1px solid #000; }         .audiojs p { display: none; width: 25px; height: 40px; margin: 0px; cursor: pointer; }         .audiojs .play { display: block; }         .audiojs .scrubber { position: relative; float: left; width: 280px; background: #5a5a5a; height: 14px; margin: 10px; border-top: 1px solid #3f3f3f; border-left: 0px; border-bottom: 0px; overflow: hidden; }         .audiojs .progress { position: absolute; top: 0px; left: 0px; height: 14px; width: 0px; background: #ccc; z-index: 1;           background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #ccc), color-stop(0.5, #ddd), color-stop(0.51, #ccc), color-stop(1, #ccc));           background-image: -moz-linear-gradient(center top, #ccc 0%, #ddd 50%, #ccc 51%, #ccc 100%); }         .audiojs .loaded { position: absolute; top: 0px; left: 0px; height: 14px; width: 0px; background: #000;           background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #222), color-stop(0.5, #333), color-stop(0.51, #222), color-stop(1, #222));           background-image: -moz-linear-gradient(center top, #222 0%, #333 50%, #222 51%, #222 100%); }         .audiojs .time { float: left; height: 36px; line-height: 36px; margin: 0px 0px 0px 6px; padding: 0px 6px 0px 12px; border-left: 1px solid #000; color: #ddd; text-shadow: 1px 1px 0px rgba(0, 0, 0, 0.5); }         .audiojs .time em { padding: 0px 2px 0px 0px; color: #f9f9f9; font-style: normal; }         .audiojs .time strong { padding: 0px 0px 0px 2px; font-weight: normal; }         .audiojs .error-message { float: left; display: none; margin: 0px 10px; height: 36px; width: 400px; overflow: hidden; line-height: 36px; white-space: nowrap; color: #fff;           text-overflow: ellipsis; -o-text-overflow: ellipsis; -icab-text-overflow: ellipsis; -khtml-text-overflow: ellipsis; -moz-text-overflow: ellipsis; -webkit-text-overflow: ellipsis; }         .audiojs .error-message a { color: #eee; text-decoration: none; padding-bottom: 1px; border-bottom: 1px solid #999; white-space: wrap; }                 .audiojs .play { background: url("$1") -2px -1px no-repeat; }         .audiojs .loading { background: url("$1") -2px -31px no-repeat; }         .audiojs .error { background: url("$1") -2px -61px no-repeat; }         .audiojs .pause { background: url("$1") -2px -91px no-repeat; }                 .playing .play, .playing .loading, .playing .error { display: none; }         .playing .pause { display: block; }                 .loading .play, .loading .pause, .loading .error { display: none; }         .loading .loading { display: block; }                 .error .time, .error .play, .error .pause, .error .scrubber, .error .loading { display: none; }         .error .error { display: block; }         .error .play-pause p { cursor: auto; }         .error .error-message { display: block; }',trackEnded:function(){},flashError:function(){var f=this.settings.createPlayer,g=a(f.errorMessageClass,this.wrapper),h='Missing <a href="http://get.adobe.com/flashplayer/">flash player</a> plugin.';if(this.mp3){h+=' <a href="'+this.mp3+'">Download audio file</a>.'}c[b].helpers.removeClass(this.wrapper,f.loadingClass);c[b].helpers.addClass(this.wrapper,f.errorClass);g.innerHTML=h},loadError:function(){var f=this.settings.createPlayer,g=a(f.errorMessageClass,this.wrapper);c[b].helpers.removeClass(this.wrapper,f.loadingClass);c[b].helpers.addClass(this.wrapper,f.errorClass);g.innerHTML='Error loading: "'+this.mp3+'"'},init:function(){c[b].helpers.addClass(this.wrapper,this.settings.createPlayer.loadingClass)},loadStarted:function(){var f=this.settings.createPlayer,g=a(f.durationClass,this.wrapper),i=Math.floor(this.duration/60),h=Math.floor(this.duration%60);c[b].helpers.removeClass(this.wrapper,f.loadingClass);g.innerHTML=(i<10?"0":"")+i+":"+(h<10?"0":"")+h},loadProgress:function(f){var g=this.settings.createPlayer,h=a(g.scrubberClass,this.wrapper);a(g.loaderClass,this.wrapper).style.width=h.offsetWidth*f+"px"},playPause:function(){this.playing?this.settings.play():this.settings.pause()},play:function(){c[b].helpers.addClass(this.wrapper,this.settings.createPlayer.playingClass)},pause:function(){c[b].helpers.removeClass(this.wrapper,this.settings.createPlayer.playingClass)},updatePlayhead:function(f){var g=this.settings.createPlayer,h=a(g.scrubberClass,this.wrapper);a(g.progressClass,this.wrapper).style.width=h.offsetWidth*f+"px";g=a(g.playedClass,this.wrapper);h=this.duration*f;f=Math.floor(h/60);h=Math.floor(h%60);g.innerHTML=(f<10?"0":"")+f+":"+(h<10?"0":"")+h}},create:function(f,g){g=g||{};return f.length?this.createAll(g,f):this.newInstance(f,g)},createAll:function(f,g){var l=g||document.getElementsByTagName("audio"),k=[];f=f||{};for(var j=0,h=l.length;j<h;j++){k.push(this.newInstance(l[j],f))}return k},newInstance:function(f,g){var j=this.helpers.clone(this.settings),i="audiojs"+this.instanceCount,h="audiojs_wrapper"+this.instanceCount;this.instanceCount++;if(f.getAttribute("autoplay")!=null){j.autoplay=true}if(f.getAttribute("loop")!=null){j.loop=true}if(f.getAttribute("preload")=="none"){j.preload=false}g&&this.helpers.merge(j,g);if(j.createPlayer.markup){f=this.createPlayer(f,j.createPlayer,h)}else{f.parentNode.setAttribute("id",h)}h=new c[e](f,j);j.css&&this.helpers.injectCss(h,j.css);if(j.useFlash&&j.hasFlash){this.injectFlash(h,i);this.attachFlashEvents(h.wrapper,h)}else{j.useFlash&&!j.hasFlash&&this.settings.flashError.apply(h)}if(!j.useFlash||j.useFlash&&j.hasFlash){this.attachEvents(h.wrapper,h)}return this.instances[i]=h},createPlayer:function(f,g,j){var i=document.createElement("div"),h=f.cloneNode(true);i.setAttribute("class","audiojs");i.setAttribute("className","audiojs");i.setAttribute("id",j);if(h.outerHTML&&!document.createElement("audio").canPlayType){h=this.helpers.cloneHtml5Node(f);i.innerHTML=g.markup;i.appendChild(h);f.outerHTML=i.outerHTML;i=document.getElementById(j)}else{i.appendChild(h);i.innerHTML+=g.markup;f.parentNode.replaceChild(i,f)}return i.getElementsByTagName("audio")[0]},attachEvents:function(f,g){if(g.settings.createPlayer){var j=g.settings.createPlayer,i=a(j.playPauseClass,f),h=a(j.scrubberClass,f);c[b].events.addListener(i,"click",function(){g.playPause.apply(g)});c[b].events.addListener(h,"click",function(m){m=m.clientX;var n=this,l=0;if(n.offsetParent){do{l+=n.offsetLeft}while(n=n.offsetParent)}g.skipTo((m-l)/h.offsetWidth)});if(!g.settings.useFlash){c[b].events.trackLoadProgress(g);c[b].events.addListener(g.element,"timeupdate",function(){g.updatePlayhead.apply(g)});c[b].events.addListener(g.element,"ended",function(){g.trackEnded.apply(g)});c[b].events.addListener(g.source,"error",function(){clearInterval(g.readyTimer);clearInterval(g.loadTimer);g.settings.loadError.apply(g)})}}},attachFlashEvents:function(f,g){g.swfReady=false;g.load=function(h){g.mp3=h;g.swfReady&&g.element.load(h)};g.loadProgress=function(i,h){g.loadedPercent=i;g.duration=h;g.settings.loadStarted.apply(g);g.settings.loadProgress.apply(g,[i])};g.skipTo=function(h){if(!(h>g.loadedPercent)){g.updatePlayhead.call(g,[h]);g.element.skipTo(h)}};g.updatePlayhead=function(h){g.settings.updatePlayhead.apply(g,[h])};g.play=function(){if(!g.settings.preload){g.settings.preload=true;g.element.init(g.mp3)}g.playing=true;g.element.pplay();g.settings.play.apply(g)};g.pause=function(){g.playing=false;g.element.ppause();g.settings.pause.apply(g)};g.setVolume=function(h){g.element.setVolume(h)};g.loadStarted=function(){g.swfReady=true;g.settings.preload&&g.element.init(g.mp3);g.settings.autoplay&&g.play.apply(g)}},injectFlash:function(f,g){var j=this.flashSource.replace(/\$1/g,g);j=j.replace(/\$2/g,f.settings.swfLocation);j=j.replace(/\$3/g,+new Date+Math.random());var i=f.wrapper.innerHTML,h=document.createElement("div");h.innerHTML=j+i;f.wrapper.innerHTML=h.innerHTML;f.element=this.helpers.getSwf(g)},helpers:{merge:function(f,g){for(attr in g){if(f.hasOwnProperty(attr)||g.hasOwnProperty(attr)){f[attr]=g[attr]}}},clone:function(f){if(f==null||typeof f!=="object"){return f}var g=new f.constructor,h;for(h in f){g[h]=arguments.callee(f[h])}return g},addClass:function(f,g){RegExp("(\\s|^)"+g+"(\\s|$)").test(f.className)||(f.className+=" "+g)},removeClass:function(f,g){f.className=f.className.replace(RegExp("(\\s|^)"+g+"(\\s|$)")," ")},injectCss:function(g,h){for(var p="",o=document.getElementsByTagName("style"),n=h.replace(/\$1/g,g.settings.imageLocation),l=0,m=o.length;l<m;l++){var j=o[l].getAttribute("title");if(j&&~j.indexOf("audiojs")){m=o[l];if(m.innerHTML===n){return}p=m.innerHTML;break}}o=document.getElementsByTagName("head")[0];l=o.firstChild;m=document.createElement("style");if(o){m.setAttribute("type","text/css");m.setAttribute("title","audiojs");if(m.styleSheet){m.styleSheet.cssText=p+n}else{m.appendChild(document.createTextNode(p+n))}l?o.insertBefore(m,l):o.appendChild(styleElement)}},cloneHtml5Node:function(f){var g=document.createDocumentFragment(),h=g.createElement?g:document;h.createElement("audio");h=h.createElement("div");g.appendChild(h);h.innerHTML=f.outerHTML;return h.firstChild},getSwf:function(f){f=document[f]||window[f];return f.length>1?f[f.length-1]:f}},events:{memoryLeaking:false,listeners:[],addListener:function(f,g,h){if(f.addEventListener){f.addEventListener(g,h,false)}else{if(f.attachEvent){this.listeners.push(f);if(!this.memoryLeaking){window.attachEvent("onunload",function(){if(this.listeners){for(var j=0,i=this.listeners.length;j<i;j++){c[b].events.purge(this.listeners[j])}}});this.memoryLeaking=true}f.attachEvent("on"+g,function(){h.call(f,window.event)})}}},trackLoadProgress:function(f){if(f.settings.preload){var g,i;f=f;var h=/(ipod|iphone|ipad)/i.test(navigator.userAgent);g=setInterval(function(){if(f.element.readyState>-1){h||f.init.apply(f)}if(f.element.readyState>1){f.settings.autoplay&&f.play.apply(f);clearInterval(g);i=setInterval(function(){f.loadProgress.apply(f);f.loadedPercent>=1&&clearInterval(i)})}},10);f.readyTimer=g;f.loadTimer=i}},purge:function(f){var g=f.attributes,h;if(g){for(h=0;h<g.length;h+=1){if(typeof f[g[h].name]==="function"){f[g[h].name]=null}}}if(g=f.childNodes){for(h=0;h<g.length;h+=1){purge(f.childNodes[h])}}},ready:function(){return function(w){var x=window,v=false,u=true,t=x.document,p=t.documentElement,s=t.addEventListener?"addEventListener":"attachEvent",o=t.addEventListener?"removeEventListener":"detachEvent",j=t.addEventListener?"":"on",l=function(f){if(!(f.type=="readystatechange"&&t.readyState!="complete")){(f.type=="load"?x:t)[o](j+f.type,l,false);if(!v&&(v=true)){w.call(x,f.type||f)}}},h=function(){try{p.doScroll("left")}catch(f){setTimeout(h,50);return}l("poll")};if(t.readyState=="complete"){w.call(x,"lazy")}else{if(t.createEventObject&&p.doScroll){try{u=!x.frameElement}catch(g){}u&&h()}t[s](j+"DOMContentLoaded",l,false);t[s](j+"readystatechange",l,false);x[s](j+"load",l,false)}}}()}};c[e]=function(f,g){this.element=f;this.wrapper=f.parentNode;this.source=f.getElementsByTagName("source")[0]||f;this.mp3=function(i){var h=i.getElementsByTagName("source")[0];return i.getAttribute("src")||(h?h.getAttribute("src"):null)}(f);this.settings=g;this.loadStartedCalled=false;this.loadedPercent=0;this.duration=1;this.playing=false};c[e].prototype={updatePlayhead:function(){this.settings.updatePlayhead.apply(this,[this.element.currentTime/this.duration])},skipTo:function(f){if(!(f>this.loadedPercent)){this.element.currentTime=this.duration*f;this.updatePlayhead()}},load:function(f){this.loadStartedCalled=false;this.source.setAttribute("src",f);this.element.load();this.mp3=f;c[b].events.trackLoadProgress(this)},loadError:function(){this.settings.loadError.apply(this)},init:function(){this.settings.init.apply(this)},loadStarted:function(){if(!this.element.duration){return false}this.duration=this.element.duration;this.updatePlayhead();this.settings.loadStarted.apply(this)},loadProgress:function(){if(this.element.buffered!=null&&this.element.buffered.length){if(!this.loadStartedCalled){this.loadStartedCalled=this.loadStarted()}this.loadedPercent=this.element.buffered.end(this.element.buffered.length-1)/this.duration;this.settings.loadProgress.apply(this,[this.loadedPercent])}},playPause:function(){this.playing?this.pause():this.play()},play:function(){/(ipod|iphone|ipad)/i.test(navigator.userAgent)&&this.element.readyState==0&&this.init.apply(this);if(!this.settings.preload){this.settings.preload=true;this.element.setAttribute("preload","auto");c[b].events.trackLoadProgress(this)}this.playing=true;this.element.play();this.settings.play.apply(this)},pause:function(){this.playing=false;this.element.pause();this.settings.pause.apply(this)},setVolume:function(f){this.element.volume=f},trackEnded:function(){this.skipTo.apply(this,[0]);this.settings.loop||this.pause.apply(this);this.settings.trackEnded.apply(this)}};var a=function(g,h){var n=[];h=h||document;if(h.getElementsByClassName){n=h.getElementsByClassName(g)}else{var m,l,j=h.getElementsByTagName("*"),k=RegExp("(^|\\s)"+g+"(\\s|$)");m=0;for(l=j.length;m<l;m++){k.test(j[m].className)&&n.push(j[m])}}return n.length>1?n:n[0]}})("audiojs","audiojsInstance",this);